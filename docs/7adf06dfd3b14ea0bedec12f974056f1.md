# TextBox Control
OpenSilver에서 TextBox 컨트롤의 특징과 사용법에 대해 설명합니다. 이 문서는 개발자가 TextBox 컨트롤을 효과적으로 구현할 수 있도록 필요한 정보를 제공합니다.

## 컨트롤 개요
TextBox 컨트롤은 OpenSilver 애플리케이션에서 사용자가 텍스트를 입력하고 편집할 수 있는 기본적인 UI 요소입니다. 단일 라인 또는 여러 라인의 텍스트 입력을 지원하며, WPF를 비롯한 다양한 XAML 기반 플랫폼에 익숙한 개발자라면 OpenSilver의 TextBox 컨트롤을 쉽게 활용할 수 있습니다.

## 클래스 정보
TextBox 컨트롤은 OpenSilver.dll 어셈블리에 포함된 클래스입니다.

[reference=1]
- class: TextBox
  namespace: System.Windows.Controls
  assembly: OpenSilver.dll
  description: Represents a control that can be used to display or edit unformatted text.
[/reference]

자세한 클래스 정의, 상속 구조, 속성, 이벤트, 메서드 등은 [TextBox 클래스 레퍼런스 문서](https://example.com/textbox-reference)에서 확인할 수 있습니다.

## 상속 계층 구조
TextBox 컨트롤의 클래스 상속 계층은 다음과 같습니다.

[hierarchy]
- class: Object
  namespace: System
  level: 1
- class: DependencyObject
  namespace: System.Windows
  level: 2
  parent: Object
- class: UIElement
  namespace: System.Windows
  level: 3
  parent: DependencyObject
- class: FrameworkElement
  namespace: System.Windows
  level: 4
  parent: UIElement
- class: Control
  namespace: System.Windows.Controls
  level: 5
  parent: FrameworkElement
- class: TextBoxBase
  namespace: System.Windows.Controls.Primitives
  level: 6
  parent: Control
- class: TextBox
  namespace: System.Windows.Controls
  level: 7
  parent: TextBoxBase
  highlight: true
[/hierarchy]

TextBox는 Control에서 기본적인 UI 기능을, TextBoxBase에서 텍스트 편집 관련 고급 기능을 상속받아 구성됩니다. 이 계층 구조는 WPF와 동일하여 기존 지식을 활용하기에 유리합니다.

## 주요 속성  
TextBox 컨트롤의 주요 속성은 다음과 같습니다.

| Property (Type)               | Remark                                          | Class           |
|-------------------------------|--------------------------------------------------|-----------------|
| Text (string)                 | 텍스트박스에 표시되는 텍스트 내용                | TextBox         |
| AcceptsReturn (bool)          | Enter 키 입력 시 줄바꿈 허용 여부                | TextBox         |
| TextWrapping (TextWrapping)   | 텍스트 줄바꿈 방식 설정                         | TextBox         |
| MaxLength (int)               | 입력 가능한 최대 문자 수 설정                    | TextBox         |
| SelectionStart (int)          | 선택 영역의 시작 위치                           | TextBoxBase     |
| SelectionLength (int)         | 선택된 텍스트의 길이                            | TextBoxBase     |
| IsReadOnly (bool)             | 읽기 전용 모드 설정                             | TextBoxBase     |
| CaretIndex (int)              | 캐럿(커서) 위치의 인덱스                        | TextBox         |
| IsEnabled (bool)              | 텍스트박스의 활성화/비활성화 상태를 제어        | Control         |

이 속성들은 TextBox의 동작과 외관을 자유롭게 조정할 수 있게 해주며, 각 속성은 상속 계층에서 특정 클래스로부터 제공됩니다.

# 기본 사용법  
TextBox의 기본적인 사용 방법과 속성 설정 방법을 알아봅니다.

## 기본 소스코드  
아래 예제는 텍스트박스의 기본적인 속성을 설정하는 방법을 보여줍니다.

[tabgroup]  
[tab=XAML|url=https://github.com/OpenSilver/samples/blob/master/src/OpenSilver.Samples/OSFSample.TextBoxBasic/TextBoxBasicExample.xaml|text=GitHub: TextBoxBasicExample.xaml]  
```
<StackPanel HorizontalAlignment="Left" Width="300">  
    <TextBlock Text="Single-line TextBox:" Margin="0,0,0,5"/>  
    <TextBox x:Name="singleLineTextBox" 
             Text="Edit this text" 
             TextChanged="SingleLineTextBox_TextChanged" 
             Margin="0,0,0,15"/>
    
    <TextBlock Text="Multi-line TextBox:" Margin="0,0,0,5"/>
    <TextBox x:Name="multiLineTextBox" 
             Text="This is a multi-line TextBox.&#x0A;You can enter multiple lines of text.&#x0A;Press Enter for a new line." 
             AcceptsReturn="True" 
             TextWrapping="Wrap" 
             Height="80"
             ScrollViewer.VerticalScrollBarVisibility="Auto"
             Margin="0,0,0,15"/>
    
    <TextBlock Text="Read-only TextBox:" Margin="0,0,0,5"/>
    <TextBox x:Name="readOnlyTextBox" 
             Text="This text cannot be edited." 
             IsReadOnly="True"
             Background="#F0F0F0"
             Margin="0,0,0,15"/>
    
    <TextBlock Text="Limited-length TextBox (max 10 chars):" Margin="0,0,0,5"/>
    <TextBox x:Name="limitedTextBox" 
             Text="" 
             MaxLength="10"
             TextChanged="LimitedTextBox_TextChanged"
             Margin="0,0,0,15"/>
    
    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
        <TextBlock Text="Characters: "/>
        <TextBlock x:Name="charCountText"/>
    </StackPanel>
    
    <Button Content="Clear All" Click="ClearButton_Click" Width="100" HorizontalAlignment="Left" Margin="0,10,0,0"/>
</StackPanel>  
```
[/tab]  
[tab=C#|url=https://github.com/OpenSilver/samples/blob/master/src/OpenSilver.Samples/OSFSample.TextBoxBasic/TextBoxBasicExample.xaml.cs|text=GitHub: TextBoxBasicExample.xaml.cs]  
```
public partial class TextBoxBasicExample : UserControl  
{  
    public TextBoxBasicExample()  
    {  
        this.InitializeComponent();  
        UpdateCharCount();
    }  

    private void SingleLineTextBox_TextChanged(object sender, TextChangedEventArgs e)  
    {  
        // 텍스트 변경 이벤트 처리
        UpdateCharCount();
    }
    
    private void LimitedTextBox_TextChanged(object sender, TextChangedEventArgs e)
    {
        // 제한된 텍스트박스 텍스트 변경 이벤트 처리
        UpdateCharCount();
    }
    
    private void ClearButton_Click(object sender, RoutedEventArgs e)
    {
        // 모든 텍스트박스 내용 지우기
        singleLineTextBox.Clear();
        multiLineTextBox.Clear();
        limitedTextBox.Clear();
        
        // 읽기 전용 텍스트박스는 프로그래밍 방식으로 내용 변경 가능
        readOnlyTextBox.Text = "Cleared programmatically.";
        
        UpdateCharCount();
    }
    
    private void UpdateCharCount()
    {
        // 전체 텍스트 길이 계산 및 표시
        int totalChars = singleLineTextBox.Text.Length + 
                        multiLineTextBox.Text.Length + 
                        readOnlyTextBox.Text.Length + 
                        limitedTextBox.Text.Length;
        
        charCountText.Text = totalChars.ToString();
    }
}  
```
[/tab]  
[/tabgroup]

OpenSilver는 TextBox 컨트롤의 다양한 구성 옵션을 제공하며, TextChanged 이벤트를 통해 텍스트 변경을 실시간으로 감지하고 처리할 수 있습니다.

## 기본 결과 확인
다양한 속성이 설정된 텍스트박스가 표시되며, 텍스트 변경 시 캐릭터 카운트가 업데이트됩니다. 'Clear All' 버튼을 클릭하면 모든 텍스트박스가 지워집니다.

[[[DEMO:TEXTBOX_BASIC]]]

이 예제는 텍스트박스의 기본 사용법과 주요 속성 설정 방법을 보여줍니다.

# 데이터 바인딩  
TextBox의 Text 속성을 활용한 데이터 바인딩 방법을 알아봅니다.

## 데이터 바인딩 소스코드  
아래 예제는 Text 속성을 ViewModel의 속성에 바인딩하는 방법을 보여줍니다.

[tabgroup]  
[tab=XAML|url=https://github.com/OpenSilver/samples/blob/master/src/OpenSilver.Samples/OSFSample.TextBoxBinding/TextBoxBindingExample.xaml|text=GitHub: TextBoxBindingExample.xaml]  
```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    
    <StackPanel Grid.Row="0" HorizontalAlignment="Left" Width="400" Margin="0,0,0,20">
        <TextBlock Text="User Registration Form" FontWeight="Bold" FontSize="16" Margin="0,0,0,15"/>
        
        <!-- 이름 입력 -->
        <TextBlock Text="First Name:" Margin="0,0,0,5"/>
        <TextBox Text="{Binding FirstName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                 Margin="0,0,0,10"/>
        
        <!-- 성 입력 -->
        <TextBlock Text="Last Name:" Margin="0,0,0,5"/>
        <TextBox Text="{Binding LastName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                 Margin="0,0,0,10"/>
        
        <!-- 이메일 입력 -->
        <TextBlock Text="Email Address:" Margin="0,0,0,5"/>
        <TextBox Text="{Binding Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                 Margin="0,0,0,10"/>
        
        <!-- 비밀번호 입력 (실제로는 PasswordBox 사용 권장) -->
        <TextBlock Text="Password:" Margin="0,0,0,5"/>
        <TextBox Text="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                 Margin="0,0,0,10"/>
        
        <!-- 자기소개 입력 -->
        <TextBlock Text="Bio (optional):" Margin="0,0,0,5"/>
        <TextBox Text="{Binding Bio, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                 TextWrapping="Wrap" 
                 AcceptsReturn="True" 
                 Height="100" 
                 Margin="0,0,0,15"/>
        
        <!-- 제출 버튼 -->
        <Button Content="Submit" 
                Command="{Binding SubmitCommand}" 
                Width="100" 
                HorizontalAlignment="Left"/>
    </StackPanel>
    
    <!-- 미리보기 섹션 -->
    <Border Grid.Row="1" BorderBrush="#CCCCCC" BorderThickness="1" Padding="10" Margin="0,10,0,0">
        <StackPanel>
            <TextBlock Text="Preview:" FontWeight="Bold" Margin="0,0,0,10"/>
            <TextBlock>
                <Run Text="Full Name: "/>
                <Run Text="{Binding FullName, Mode=OneWay}"/>
            </TextBlock>
            <TextBlock>
                <Run Text="Email: "/>
                <Run Text="{Binding Email, Mode=OneWay}"/>
            </TextBlock>
            <TextBlock>
                <Run Text="Bio: "/>
                <Run Text="{Binding BioPreview, Mode=OneWay}"/>
            </TextBlock>
            <TextBlock Text="{Binding ValidationMessage}" Foreground="Red" Margin="0,10,0,0"/>
        </StackPanel>
    </Border>
</Grid>
```
[/tab]  
[tab=C#|url=https://github.com/OpenSilver/samples/blob/master/src/OpenSilver.Samples/OSFSample.TextBoxBinding/TextBoxBindingExample.xaml.cs|text=GitHub: TextBoxBindingExample.xaml.cs]  
```
public partial class TextBoxBindingExample : UserControl  
{  
    public TextBoxBindingExample()  
    {  
        this.InitializeComponent();  
        
        // ViewModel을 DataContext로 설정
        this.DataContext = new UserViewModel();
    }  
}

// ViewModel 클래스
public class UserViewModel : ViewModelBase
{
    private string _firstName;
    private string _lastName;
    private string _email;
    private string _password;
    private string _bio;
    private string _validationMessage;
    
    public string FirstName
    {
        get => _firstName;
        set 
        { 
            SetProperty(ref _firstName, value);
            OnPropertyChanged(nameof(FullName));
        }
    }
    
    public string LastName
    {
        get => _lastName;
        set 
        { 
            SetProperty(ref _lastName, value);
            OnPropertyChanged(nameof(FullName));
        }
    }
    
    public string Email
    {
        get => _email;
        set => SetProperty(ref _email, value);
    }
    
    public string Password
    {
        get => _password;
        set => SetProperty(ref _password, value);
    }
    
    public string Bio
    {
        get => _bio;
        set 
        { 
            SetProperty(ref _bio, value);
            OnPropertyChanged(nameof(BioPreview));
        }
    }
    
    public string ValidationMessage
    {
        get => _validationMessage;
        set => SetProperty(ref _validationMessage, value);
    }
    
    // 계산된 속성
    public string FullName => $"{FirstName} {LastName}".Trim();
    
    public string BioPreview
    {
        get
        {
            if (string.IsNullOrEmpty(Bio))
                return "(No bio provided)";
            
            return Bio.Length > 50 ? Bio.Substring(0, 50) + "..." : Bio;
        }
    }
    
    public ICommand SubmitCommand { get; }
    
    public UserViewModel()
    {
        // 초기 데이터 설정
        FirstName = "John";
        LastName = "Doe";
        Email = "john.doe@example.com";
        Password = "";
        Bio = "";
        
        // 커맨드 설정
        SubmitCommand = new RelayCommand(Submit, CanSubmit);
    }
    
    private bool CanSubmit()
    {
        // 필수 필드 검증
        return !string.IsNullOrWhiteSpace(FirstName) && 
               !string.IsNullOrWhiteSpace(LastName) && 
               !string.IsNullOrWhiteSpace(Email) && 
               !string.IsNullOrWhiteSpace(Password);
    }
    
    private void Submit()
    {
        // 이메일 형식 검증
        if (!IsValidEmail(Email))
        {
            ValidationMessage = "Please enter a valid email address.";
            return;
        }
        
        // 비밀번호 길이 검증
        if (Password.Length < 6)
        {
            ValidationMessage = "Password must be at least 6 characters long.";
            return;
        }
        
        // 성공 메시지
        ValidationMessage = "Form submitted successfully!";
        MessageBox.Show($"User {FullName} registered successfully!", "Success");
    }
    
    private bool IsValidEmail(string email)
    {
        // 간단한 이메일 형식 검증
        return !string.IsNullOrEmpty(email) && email.Contains("@") && email.Contains(".");
    }
}
```
[/tab]  
[/tabgroup]

OpenSilver는 TextBox의 Text 속성을 통한 데이터 바인딩을 지원하며, UpdateSourceTrigger를 PropertyChanged로 설정하여 실시간 업데이트를 구현할 수 있습니다.

## 데이터 바인딩 결과 확인
텍스트박스에 사용자 정보를 입력하면 아래의 미리보기 섹션이 실시간으로 업데이트됩니다. '제출' 버튼 클릭 시 입력 값의 유효성이 검사됩니다.

[[[DEMO:TEXTBOX_BINDING]]]

이 예제는 MVVM 패턴을 활용한 양방향 데이터 바인딩과 UpdateSourceTrigger 속성의 활용법을 보여줍니다.