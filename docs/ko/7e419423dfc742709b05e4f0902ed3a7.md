# Slider 클래스
Reference

## 정의
Assembly: OpenSilver.dll
Namespace: System.Windows.Controls

## 개요
`Slider` 클래스는 사용자가 트랙을 따라 `Thumb` 컨트롤을 이동시켜 범위 내에서 값을 선택할 수 있게 해주는 컨트롤입니다. 이 컨트롤은 수평 또는 수직 방향으로 설정할 수 있으며, 볼륨 조절이나 줌 레벨 조정과 같은 연속적인 값 입력에 적합합니다.

## 네임스페이스
```csharp
OpenSilver.Controls
```

## 상속 계층
```
Object
  ↳ DependencyObject
      ↳ UIElement
          ↳ FrameworkElement
              ↳ Control
                  ↳ RangeBase
                      ↳ Slider
```

## 구문
```csharp
public class Slider : RangeBase
```

## 템플릿 부분
Slider 컨트롤은 다음과 같은 템플릿 부분으로 구성됩니다:

| 이름 | 유형 | 설명 |
|------|------|------|
| HorizontalTemplate | FrameworkElement | 수평 방향 템플릿의 루트 요소 |
| HorizontalTrackLargeChangeIncreaseRepeatButton | RepeatButton | 수평 방향에서 큰 증가를 담당하는 반복 버튼 |
| HorizontalTrackLargeChangeDecreaseRepeatButton | RepeatButton | 수평 방향에서 큰 감소를 담당하는 반복 버튼 |
| HorizontalThumb | Thumb | 수평 방향에서 드래그할 수 있는 썸(thumb) 컨트롤 |
| VerticalTemplate | FrameworkElement | 수직 방향 템플릿의 루트 요소 |
| VerticalTrackLargeChangeIncreaseRepeatButton | RepeatButton | 수직 방향에서 큰 증가를 담당하는 반복 버튼 |
| VerticalTrackLargeChangeDecreaseRepeatButton | RepeatButton | 수직 방향에서 큰 감소를 담당하는 반복 버튼 |
| VerticalThumb | Thumb | 수직 방향에서 드래그할 수 있는 썸(thumb) 컨트롤 |

## 비주얼 상태
Slider 컨트롤은 다음과 같은 비주얼 상태를 지원합니다:

### 일반 상태 그룹 (GroupCommon)
| 상태 이름 | 설명 |
|-----------|------|
| Normal | 기본 상태 |
| MouseOver | 마우스가 컨트롤 위에 있을 때의 상태 |
| Disabled | 컨트롤이 비활성화되었을 때의 상태 |

### 포커스 상태 그룹 (GroupFocus)
| 상태 이름 | 설명 |
|-----------|------|
| Unfocused | 포커스가 없는 상태 |
| Focused | 포커스가 있는 상태 |

## 생성자
| 이름 | 설명 |
|------|------|
| Slider() | Slider 클래스의 새 인스턴스를 초기화합니다. 기본 스타일 키를 설정하고 필요한 이벤트 핸들러를 연결합니다. |

## 속성

### 주요 속성
| 이름 | 유형 | 설명 |
|------|------|------|
| Orientation | Orientation | Slider의 방향을 가져오거나 설정합니다. 기본값은 Horizontal입니다. |
| IsDirectionReversed | Boolean | 증가하는 값의 방향을 나타냅니다. 수평 슬라이더의 경우 왼쪽으로, 수직 슬라이더의 경우 아래쪽으로 증가하는 경우 true입니다. 기본값은 false입니다. |
| IsFocused | Boolean | 슬라이더 컨트롤이 포커스를 가지고 있는지 여부를 나타내는 읽기 전용 속성입니다. |

### 상속된 속성 (RangeBase)
| 이름 | 유형 | 설명 |
|------|------|------|
| Minimum | Double | 슬라이더가 가질 수 있는 최소값을 가져오거나 설정합니다. |
| Maximum | Double | 슬라이더가 가질 수 있는 최대값을 가져오거나 설정합니다. |
| Value | Double | 슬라이더의 현재 값을 가져오거나 설정합니다. |
| SmallChange | Double | 슬라이더 값이 작게 변경될 때의 증분 값을 가져오거나 설정합니다. |
| LargeChange | Double | 슬라이더 값이 크게 변경될 때의 증분 값을 가져오거나 설정합니다. |

### 내부 속성
| 이름 | 유형 | 설명 |
|------|------|------|
| ElementHorizontalTemplate | FrameworkElement | 수평 템플릿 루트 요소에 대한 참조 |
| ElementHorizontalLargeIncrease | RepeatButton | 수평 방향 큰 증가 버튼에 대한 참조 |
| ElementHorizontalLargeDecrease | RepeatButton | 수평 방향 큰 감소 버튼에 대한 참조 |
| ElementHorizontalThumb | Thumb | 수평 방향 썸(thumb)에 대한 참조 |
| ElementVerticalTemplate | FrameworkElement | 수직 템플릿 루트 요소에 대한 참조 |
| ElementVerticalLargeIncrease | RepeatButton | 수직 방향 큰 증가 버튼에 대한 참조 |
| ElementVerticalLargeDecrease | RepeatButton | 수직 방향 큰 감소 버튼에 대한 참조 |
| ElementVerticalThumb | Thumb | 수직 방향 썸(thumb)에 대한 참조 |
| IsMouseOver | Boolean | 마우스가 현재 컨트롤 위에 있는지 여부를 나타냅니다. |

## 종속성 속성
| 이름 | 유형 | 설명 |
|------|------|------|
| OrientationProperty | DependencyProperty | Orientation 속성을 식별합니다. |
| IsDirectionReversedProperty | DependencyProperty | IsDirectionReversed 속성을 식별합니다. |
| IsFocusedProperty | DependencyProperty | IsFocused 속성을 식별합니다. |

## 메서드

### 주요 메서드
| 이름 | 반환 유형 | 설명 |
|------|------------|------|
| OnApplyTemplate | void | 새 템플릿이 적용될 때 Slider 컨트롤의 비주얼 트리를 구성합니다. 템플릿 부분을 가져오고 필요한 이벤트 핸들러를 연결합니다. |
| OnCreateAutomationPeer | AutomationPeer | 자동화 인프라에서 사용할 SliderAutomationPeer 객체를 반환합니다. |

### 이벤트 처리 메서드
| 이름 | 반환 유형 | 설명 |
|------|------------|------|
| OnValueChanged | void | Value 속성이 변경될 때 Slider의 현재 위치를 업데이트합니다. |
| OnMinimumChanged | void | Minimum 속성이 변경될 때 호출됩니다. |
| OnMaximumChanged | void | Maximum 속성이 변경될 때 호출됩니다. |
| OnMouseEnter | void | MouseEnter 이벤트에 대한 클래스 처리를 제공합니다. IsMouseOver를 true로 설정하고 비주얼 상태를 업데이트합니다. |
| OnMouseLeave | void | MouseLeave 이벤트에 대한 클래스 처리를 제공합니다. IsMouseOver를 false로 설정하고 비주얼 상태를 업데이트합니다. |
| OnMouseLeftButtonDown | void | MouseLeftButtonDown 이벤트에 대한 클래스 처리를 제공합니다. 포커스를 설정하고 마우스를 캡처합니다. |
| OnMouseLeftButtonUp | void | MouseLeftButtonUp 이벤트에 대한 클래스 처리를 제공합니다. 마우스 캡처를 해제하고 비주얼 상태를 업데이트합니다. |
| OnKeyDown | void | KeyDown 이벤트에 대한 클래스 처리를 제공합니다. 방향키, Home, End 키 입력을 처리합니다. |
| OnGotFocus | void | GotFocus 이벤트에 대한 클래스 처리를 제공합니다. IsFocused를 true로 설정합니다. |
| OnLostFocus | void | LostFocus 이벤트에 대한 클래스 처리를 제공합니다. IsFocused를 false로 설정합니다. |
| OnOrientationChanged | void | Orientation이 변경될 때 호출되어 컨트롤의 표시에 사용되는 템플릿을 변경합니다. |
| UpdateTrackLayout | void | 현재 최소값, 최대값 및 값을 기반으로 컨트롤의 레이아웃을 계산하고 배치합니다. |
| UpdateVisualState | void | 슬라이더의 현재 비주얼 상태를 업데이트합니다. |
| ChangeVisualState | void | 슬라이더의 올바른 비주얼 상태로 변경합니다. |

### 내부 메서드
| 이름 | 반환 유형 | 설명 |
|------|------------|------|
| OnThumbDragStarted | void | 썸(Thumb) 드래그 작업이 시작될 때 호출됩니다. |
| OnThumbDragDelta | void | 썸(Thumb)이 드래그될 때 현재 값을 업데이트하기 위해 호출됩니다. |
| OnIsFocusChanged | void | IsFocused 속성이 변경될 때 호출됩니다. |

## 사용 예제

### 기본 슬라이더 생성
```xaml
<Slider Minimum="0" Maximum="100" Value="50" />
```

### 수직 방향 슬라이더
```xaml
<Slider Orientation="Vertical" Minimum="0" Maximum="100" Value="50" Height="200" />
```

### 역방향 슬라이더
```xaml
<Slider IsDirectionReversed="True" Minimum="0" Maximum="100" Value="50" />
```

### 이벤트 처리
```xaml
<Slider Minimum="0" Maximum="100" Value="{Binding Volume}" 
        ValueChanged="Slider_ValueChanged" />
```

```csharp
private void Slider_ValueChanged(object sender, RoutedPropertyChangedEventArgs<double> e)
{
    // 슬라이더 값이 변경되면 여기에서 처리합니다.
    double newValue = e.NewValue;
    // 예: SetVolume(newValue);
}
```

### 데이터 바인딩
```xaml
<Slider Minimum="0" Maximum="100" Value="{Binding Path=Volume, Mode=TwoWay}" />
```

## 스타일링 및 템플릿 커스터마이징

### 기본 슬라이더 스타일 재정의
```xaml
<Style TargetType="Slider">
    <Setter Property="Background" Value="#E0E0E0"/>
    <Setter Property="BorderBrush" Value="#CCCCCC"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="Slider">
                <!-- 여기에 사용자 정의 템플릿 정의 -->
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style>
```

### 썸(Thumb) 모양 변경
```xaml
<Style TargetType="Thumb" x:Key="SliderThumbStyle">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="Thumb">
                <Ellipse Fill="#0078D7" Width="16" Height="16" />
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style>

<Slider>
    <Slider.Resources>
        <Style TargetType="Thumb" BasedOn="{StaticResource SliderThumbStyle}" />
    </Slider.Resources>
</Slider>
```

### 트랙 모양 변경
```xaml
<Style TargetType="Slider">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="Slider">
                <Grid>
                    <Grid x:Name="HorizontalTemplate" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <RepeatButton x:Name="HorizontalTrackLargeChangeDecreaseRepeatButton"
                                     Grid.Column="0"
                                     Width="0" />
                        
                        <Thumb x:Name="HorizontalThumb" 
                               Grid.Column="1"
                               Width="20" Height="20">
                            <Thumb.Template>
                                <ControlTemplate>
                                    <Ellipse Fill="Blue" Width="20" Height="20" />
                                </ControlTemplate>
                            </Thumb.Template>
                        </Thumb>
                        
                        <RepeatButton x:Name="HorizontalTrackLargeChangeIncreaseRepeatButton"
                                     Grid.Column="2" />
                    </Grid>
                    
                    <Grid x:Name="VerticalTemplate" Visibility="Collapsed">
                        <!-- 수직 방향 템플릿 내용 -->
                    </Grid>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style>
```

## 성능 고려사항

* 슬라이더의 `UpdateTrackLayout` 메서드는 값이 변경될 때마다 호출되므로, 빈번한 업데이트가 필요한 애플리케이션에서는 성능에 영향을 미칠 수 있습니다.
* 다수의 슬라이더를 동시에 사용할 경우, 각 슬라이더의 레이아웃 계산이 누적되어 UI 응답성이 저하될 수 있습니다.
* `Value` 속성이 자주 변경되는 경우, 레이아웃 업데이트를 최소화하기 위해 `ValueChanged` 이벤트 핸들러에서 쓰로틀링(throttling)을 적용하는 것을 고려하세요.

## 접근성

Slider 컨트롤은 기본적으로 접근성 지원을 포함합니다:

* `OnCreateAutomationPeer` 메서드는 `SliderAutomationPeer`를 반환하여 스크린 리더와 같은 접근성 기술과 통합됩니다.
* 키보드 탐색을 지원하며, 방향키를 사용하여 값을 변경할 수 있습니다.
* 키보드 접근성을 향상시키기 위해 다음과 같은 기본 키 입력을 제공합니다:
  * 왼쪽/아래 화살표: 값을 `SmallChange` 만큼 감소
  * 오른쪽/위 화살표: 값을 `SmallChange` 만큼 증가
  * Home: 최소값으로 설정
  * End: 최대값으로 설정

접근성을 더욱 향상시키기 위해 다음 속성을 설정하는 것이 좋습니다:

```xaml
<Slider AutomationProperties.Name="볼륨 조절" 
        AutomationProperties.HelpText="왼쪽/오른쪽 화살표를 사용하여 볼륨을 조절하세요" />
```

## 제한사항 및 참고사항

* OpenSilver에서의 Slider 구현은 Silverlight/WPF와 유사하지만, 웹 플랫폼 제한으로 인해 일부 동작이 다를 수 있습니다.
* 방향을 변경(Orientation 속성)할 때 레이아웃이 즉시 업데이트되지 않을 수 있으므로, 필요한 경우 `UpdateLayout()` 메서드를 호출하는 것이 좋습니다.
* 드래그 동작은 마우스 이벤트에 의존하므로, 터치 기반 디바이스에서는 약간 다르게 동작할 수 있습니다.
* IsDirectionReversed 속성을 사용할 경우, 시각적 피드백이 사용자 기대와 일치하는지 확인하는 것이 중요합니다.
* 슬라이더의 레이아웃 계산은 ActualWidth와 ActualHeight에 의존하므로, 컨테이너가 제대로 초기화되기 전에는 정확하지 않을 수 있습니다.

## 관련 클래스

- [RangeBase](link-to-rangebase) - Slider가 상속하는 기본 클래스
- [Thumb](link-to-thumb) - 드래그 가능한 슬라이더 요소
- [RepeatButton](link-to-repeatbutton) - 증가/감소 버튼 구현
- [ProgressBar](link-to-progressbar) - 유사한 값 범위 표시 컨트롤
- [SliderAutomationPeer](link-to-slider-automation-peer) - 슬라이더에 대한 자동화 지원 클래스

## 예제: 주파수 조절 슬라이더

다음은 주파수 조절을 위한 사용자 정의 슬라이더의 예입니다:

```xaml
<StackPanel>
    <TextBlock Text="{Binding ElementName=FrequencySlider, Path=Value, StringFormat=주파수: {0:F1} MHz}" />
    <Slider x:Name="FrequencySlider"
            Minimum="88.0"
            Maximum="108.0"
            Value="98.5"
            SmallChange="0.1"
            LargeChange="1.0"
            Width="300"
            TickFrequency="1.0"
            TickPlacement="BottomRight" />
</StackPanel>
```

## 참조

- [슬라이더 개요](link-to-slider-overview)
- [RangeBase 클래스 사용하기](link-to-rangebase-usage)
- [슬라이더 커스터마이징](link-to-slider-customization)
- [접근성 지원 컨트롤 만들기](link-to-accessibility)