# Button Control
OpenSilver에서 Button 컨트롤의 특징과 사용법에 대해 설명합니다. 이 문서는 개발자가 Button 컨트롤을 효과적으로 구현할 수 있도록 필요한 정보를 제공합니다.

# 컨트롤 개요
Button 컨트롤은 OpenSilver 애플리케이션에서 사용자 상호작용을 위한 기본적인 클릭 가능한 UI 요소입니다. WPF를 비롯한 다양한 XAML 기반 플랫폼에 익숙한 개발자라면 OpenSilver의 Button 컨트롤을 쉽게 활용할 수 있습니다.

## 클래스 레퍼런스
OpenSilver에서 제공하는 Button 클래스는 다음과 같습니다.

[reference]
- class: Button
  namespace: System.Windows.Controls
  assembly: OpenSilver.dll
  description: Represents a standard button control that responds to user input.
[/reference]

자세한 클래스 정의, 상속 구조, 속성, 이벤트, 메서드 등은 [Button 클래스 레퍼런스 문서](https://example.com/button-reference)에서 확인할 수 있습니다.

## 상속 계층 구조
Button 컨트롤의 클래스 상속 계층은 다음과 같습니다.

[hierarchy]
- class: Object
  namespace: System
  level: 1
- class: DependencyObject
  namespace: System.Windows
  level: 2
  parent: Object
- class: UIElement
  namespace: System.Windows
  level: 3
  parent: DependencyObject
- class: FrameworkElement
  namespace: System.Windows
  level: 4
  parent: UIElement
- class: Control
  namespace: System.Windows.Controls
  level: 5
  parent: FrameworkElement
- class: ContentControl
  namespace: System.Windows.Controls
  level: 6
  parent: Control
- class: ButtonBase
  namespace: System.Windows.Controls.Primitives
  level: 7
  parent: ContentControl
- class: Button
  namespace: System.Windows.Controls
  level: 8
  parent: ButtonBase
  highlight: true
[/hierarchy]

Button은 ContentControl에서 콘텐츠 호스팅 기능을, ButtonBase에서 클릭 및 명령 처리와 같은 핵심 기능을 상속받아 구성됩니다. 이 계층 구조는 WPF와 동일하여 기존 지식을 활용하기에 유리합니다.

## 주요 속성  
Button 컨트롤의 주요 속성은 다음과 같습니다.

| Property (Type)           | Class           | Remark                                  |
|---------------------------|-----------------|-----------------------------------------|
| Content (object)          | ContentControl  | 버튼에 표시할 내용을 정의                |
| Command (ICommand)        | ButtonBase      | 명령 실행을 위한 바인딩                  |
| Click (RoutedEventHandler)| ButtonBase      | 버튼 클릭 시 발생하는 라우트 이벤트       |
| Template (ControlTemplate)| Control         | 버튼의 외관을 커스터마이징하는 템플릿      |
| ItemTemplate (DataTemplate)| ContentControl  | ContentPresenter의 데이터 템플릿        |
| IsEnabled (bool)          | Control         | 버튼의 활성화/비활성화 상태를 제어         |

이 속성들은 Button의 동작과 외관을 자유롭게 조정할 수 있게 해주며, 각 속성은 상속 계층에서 특정 클래스로부터 제공됩니다.

# Content 설정  
Button의 Content 속성을 활용해 버튼에 표시할 내용을 설정합니다.

## Content 소스코드  
아래 예제는 TextBox의 텍스트를 Button의 Content에 바인딩하는 방법을 보여줍니다.

[tabgroup]  
[tab=XAML]  
```
<StackPanel HorizontalAlignment="Left">  
    <TextBox x:Name="txt" Text="XAML + C#"/>  
    <Button Content="{Binding ElementName=txt, Path=Text, UpdateSourceTrigger=PropertyChanged}"/>  
</StackPanel>  
```
[/tab]  
[/tabgroup]

## Content 결과 확인
실행 시 TextBox의 텍스트가 버튼에 실시간으로 반영되어 바인딩이 정상적으로 작동함을 확인할 수 있습니다.

[[[DEMO:BUTTON_CONTENT]]]

이 예제는 데이터 바인딩을 통해 동적인 UI를 구현하는 기본적인 방법을 보여줍니다.

# Click 이벤트 처리  
Button의 Click 이벤트를 활용해 클릭 시 동작을 정의합니다.

## Click 소스코드  
아래 코드는 버튼 클릭 시 클릭 횟수를 증가시키고 메시지 박스를 표시합니다.

[tabgroup]  
[tab=XAML]  
```
<StackPanel HorizontalAlignment="Left">  
    <Button Content="XAML Button Click" Click="Button_Click"/>  
    <TextBlock x:Name="btnCount" Text="Click Count: 0"/>  
</StackPanel>  
```
[/tab]  
[tab=C#]  
```
public partial class ButtonClickExample : UserControl  
{  
    int count = 0;  
    public ButtonClickExample()  
    {  
        this.InitializeComponent();  
    }  

    private void Button_Click(object sender, RoutedEventArgs e)  
    {  
        count++;  
        btnCount.Text = $"Click Count: {count}";  
        MessageBox.Show("Button Clicked!");  
    }  
}  
```
[/tab]  
[/tabgroup]

## Click 결과 확인
버튼 클릭 시 클릭 횟수가 업데이트되고 메시지 박스가 나타나며, 이벤트 처리가 제대로 작동함을 볼 수 있습니다.

[[[DEMO:BUTTON_CLICK]]]

Click 이벤트는 사용자 입력에 즉각 반응하는 간단한 상호작용을 구현하는 데 유용합니다.

# Command 사용  
Button의 Command 속성을 통해 명령을 실행하는 방법을 살펴봅니다.

## Command 소스코드  
아래 예제는 간단한 명령을 버튼에 바인딩한 사례입니다.

[tabgroup]  
[tab=XAML]  
```
<StackPanel HorizontalAlignment="Left">  
    <TextBlock Text="Command Binding"/>  
    <Button Content="Execute Command" Command="{Binding SimpleCommand}"/>  
</StackPanel>  
```
[/tab]  
[tab=C#]  
```
public class SimpleCommandViewModel : ViewModelBase  
{  
    public ICommand SimpleCommand { get; set; }  

    public SimpleCommandViewModel()  
    {  
        SimpleCommand = new RelayCommand(ExecuteSimpleCommand);  
    }  

    private void ExecuteSimpleCommand()  
    {  
        MessageBox.Show("Simple Command Executed!");  
    }  
}  
```
[/tab]  
[/tabgroup]  

## Command 결과 확인
버튼 클릭 시 "Simple Command Executed!" 메시지 박스가 나타나며, 명령이 올바르게 실행됨을 확인할 수 있습니다.

[[[DEMO:BUTTON_COMMAND]]]

Command 패턴은 코드와 UI를 분리하여 유지보수성을 높이는 데 기여합니다.

# Command 사용 (CanExecute 포함)  
CanExecute를 활용해 버튼의 활성화 상태를 동적으로 제어합니다.

## Command CanExecute 소스코드  
아래 예제는 텍스트 입력 여부에 따라 버튼 활성화를 제어합니다.

[tabgroup]  
[tab=XAML]  
```
<StackPanel HorizontalAlignment="Left">  
    <TextBlock Width="200" Text="Enter Text"/>  
    <TextBox Width="200" Text="{Binding InputText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>  
    <Button Content="Complete" Command="{Binding CompleteCommand}"/>  
</StackPanel>  
```
[/tab]  
[tab=C#]  
```
public class ButtonCommandViewModel : ViewModelBase  
{  
    private string _inputText;  

    [CommandTrigger(nameof(CompleteCommand))]  
    public string InputText  
    {  
        get => _inputText;  
        set => SetProperty(ref _inputText, value);  
    }  

    public ICommand CompleteCommand { get; set; }  

    public ButtonCommandViewModel()  
    {  
        CompleteCommand = new RelayCommand(Complete, CanComplete);  
    }  

    private bool CanComplete()  
    {  
        return !string.IsNullOrEmpty(InputText);  
    }  

    private void Complete()  
    {  
        MessageBox.Show("Execute Completed!");  
    }  
}  
```
[/tab]  
[/tabgroup]  

## Command CanExecute 결과 확인
텍스트박스에 값이 입력되면 버튼이 활성화되고, 클릭 시 "Execute Completed!" 메시지가 표시됩니다.

[[[DEMO:BUTTON_COMMAND_CANEXECUTE]]]

CanExecute는 사용자 입력 조건에 따라 UI의 상태를 제어하는 강력한 도구입니다.

# Disabled 상태 (IsEnabled 바인딩)  
IsEnabled 속성을 바인딩해 버튼의 활성 상태를 제어합니다.

## Disabled 소스코드  
아래 예제는 CheckBox를 통해 버튼의 활성화를 동적으로 조정합니다.

[tabgroup]  
[tab=XAML]  
```
<StackPanel HorizontalAlignment="Left">  
    <CheckBox x:Name="chkEnable" Content="Enable Button" IsChecked="True"/>  
    <Button Content="Bound Button" IsEnabled="{Binding ElementName=chkEnable, Path=IsChecked}"/>  
</StackPanel>  
```
[/tab]  
[/tabgroup]

## Disabled 결과 확인
CheckBox 선택 여부에 따라 버튼의 활성 상태가 실시간으로 변경됩니다.

[[[DEMO:BUTTON_DISABLED]]]

IsEnabled 바인딩은 간단한 속성 연결로 동적인 UI 제어를 가능하게 합니다.

# 정리하며  
OpenSilver의 Button 컨트롤은 Content 설정, Click 이벤트, Command 바인딩, CanExecute를 통한 동적 제어, IsEnabled 바인딩 등 핵심 기능을 갖추고 있습니다. WPF와 닮은 구조 덕분에 기존 XAML 지식을 활용하여 효율적이고 유연한 UI를 손쉽게 구현할 수 있습니다.